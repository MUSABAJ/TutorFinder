{% for resource in resources %}
    <div class="resource-card">
    <div class="resource-thumbnail">
        <img src="img/makima.jpg?height=200&width=300" alt="Algebra Fundamentals">
        <div class="resource-type">{{resource.title}}</div>
    </div>
    <div class="resource-content">
        <h3>{{resource.title}}</h3>
        <p>{{resource.description}}</p>
        <div class="resource-meta">
            <span class="subject">{{resource.subject}}</span>
            <span class="level"><i class="fa fa-download"></i>  2 months ago</span>
        </div>
        <div class="resource-stats">
            <a href="{% url 'resource_download' resource.id %}"><button class=" btn btn-primary btn-vsm">Download</button></a>
            
            
            {% if resource.tutor == request.user %}
          <button onclick="openDeleteConfirmModal()" class=" btn btn-danger btn-vsm">Delete</button> 
            {% endif %}
            <span><i class="fa fa-download"></i> 1,234 </span>
        </div>

    </div>
</div>


<div id="confirmModal" class="modal-delete">
        <div class="modal-content-delete">
            <div class="confirm-header">
                <small></small>
                <span class="close" onclick="closeConfirmModal()">&times;</span>
            </div>
            <div class="confirm-msg">
                Are you sure you want to Permanently Delete {{resource.title}}
                    <div class="confirm-obj">
            </div>
        </div>
            
            <div class="confirm-action">
                <button  class="btn btn-danger" hx-post="{% url 'resource_delete' resource.id %}" 
                    hx-target="#resources-grid">Confirm</button>
                <button class="btn btn-primary">cancel</button>
            </div>
        </div>
    </div>
{% endfor %}

    <!-- confirmation Modal -->
{% load static %}
<link rel="stylesheet" href="{% static 'styles/modal.css' %}">

    

    <script>
         
    function openDeleteConfirmModal() {
                document.getElementById('confirmModal').style.display = 'block';
}

    function closeConfirmModal() {
        document.getElementById('confirmModal').style.display = 'none';
    }
    </script>