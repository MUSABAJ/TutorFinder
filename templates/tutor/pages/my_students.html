{%extends "dashboard.html"%}

{% block main %}
<div class="main-view-top">

    <div class="students-wrap">
        <div class="section">
            <div class="dashboard-section">
                <h3>All Students</h3>
                <div class="filters">
                    <input type="text" placeholder=" Search..." hx-get="/api/students" hx-trigger="keyup changed delay:300ms" hx-target="#studentsGrid">

                </div>
            </div>
            <div class="section-body" id="studentsGrid" hx-get="/api/students" hx-trigger="load">
                <div class="grid">
                    {% for student in sessions %}
                     <div class="card">
                        <div class="card-hero">
                            <img class="avatar" src="/static{{student.student.avatar.url}} " alt="Student">
                        </div>
                        <div class="card-body">
                            <strong>{{student.student}}</strong>
                            <div class="meta">{{student.student.profile.grade_level}}Â· Joined Jan 2025</div>
                            <div class="chips">
                                <span class="chip">Mathematics</span>
                                <span class="chip">Physics</span>
                            </div>
                            <div class="actions">
                                <a href="student-profile.html" class="btn btn-outline btn-vsm">View</a>
                                <a href="chat.html" class="btn btn-primary btn-vsm">Message</a>
                            </div>
                        </div>
                    </div> 
                    {% endfor %} 
                    {% if not students %}
                        you have no students
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock main %}